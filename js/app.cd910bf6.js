(function(e){function s(s){for(var a,i,n=s[0],l=s[1],u=s[2],p=0,d=[];p<n.length;p++)i=n[p],r[i]&&d.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(s);while(d.length)d.shift()();return o.push.apply(o,u||[]),t()}function t(){for(var e,s=0;s<o.length;s++){for(var t=o[s],a=!0,n=1;n<t.length;n++){var l=t[n];0!==r[l]&&(a=!1)}a&&(o.splice(s--,1),e=i(i.s=t[0]))}return e}var a={},r={app:0},o=[];function i(s){if(a[s])return a[s].exports;var t=a[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=a,i.d=function(e,s,t){i.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,s){if(1&s&&(e=i(e)),8&s)return e;if(4&s&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var a in e)i.d(t,a,function(s){return e[s]}.bind(null,a));return t},i.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(s,"a",s),s},i.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},i.p="/trlogic_task/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=s,n=n.slice();for(var u=0;u<n.length;u++)s(n[u]);var c=l;o.push([0,"chunk-vendors"]),t()})({0:function(e,s,t){e.exports=t("56d7")},"034f":function(e,s,t){"use strict";var a=t("64a9"),r=t.n(a);r.a},"56d7":function(e,s,t){"use strict";t.r(s);t("cadf"),t("551c"),t("f751"),t("097d");var a=t("2b0e"),r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"app"}},[t("Form")],1)},o=[],i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"form",class:{"form--success":e.isSuccess}},[e.isSuccess?e._e():t("div",[t("h1",[e._v("Welcome to the "),e.isNew?t("span",[e._v("auth")]):e._e(),e.isExist?t("span",[e._v("login")]):e._e(),e._v(" form")]),e.showAlert?t("div",{staticClass:"form__alert"},[e._v("\n    "+e._s(e.message)+"\n  ")]):e._e(),t("div",{staticClass:"form__holder"},[t("button",{staticClass:"form__button",class:{"form__button--active":e.isNew},on:{click:function(s){(e.isNew=!0)&&(e.isExist=!1)}}},[e._v("Sign up")]),t("button",{staticClass:"form__button",class:{"form__button--active":e.isExist},on:{click:function(s){(e.isExist=!0)&&(e.isNew=!1)}}},[e._v("Sign in")])]),e.isNew?t("form",{staticClass:"form__auth",on:{keyup:function(s){e.showAlert=!1}}},[t("div",{staticClass:"form__wrapper"},[t("label",{staticClass:"form__label",attrs:{for:"name"}},[e._v("Name*")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form__field",attrs:{type:"text",id:"name",placeholder:"Please enter your real name",required:""},domProps:{value:e.name},on:{input:function(s){s.target.composing||(e.name=s.target.value)}}})]),t("div",{staticClass:"form__wrapper"},[t("label",{staticClass:"form__label",attrs:{for:"login"}},[e._v("Login*")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.login,expression:"login"}],staticClass:"form__field",attrs:{type:"text",id:"login",placeholder:"Choose your nickname",autocomplete:"username",required:""},domProps:{value:e.login},on:{input:function(s){s.target.composing||(e.login=s.target.value)}}})]),t("div",{staticClass:"form__wrapper form__wrapper--icon"},[e.isOk?t("img",{staticClass:"form__icon",attrs:{src:"https://img.icons8.com/color/30/000000/checked-2.png"}}):e._e(),e.isError?t("img",{staticClass:"form__icon",attrs:{src:"https://img.icons8.com/color/30/000000/close-window.png"}}):e._e(),t("label",{staticClass:"form__label",attrs:{for:"email"}},[e._v("Email*")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form__field",attrs:{type:"email",id:"email",placeholder:"Give us your mail",autocomplete:"username email",required:""},domProps:{value:e.email},on:{change:function(s){return e.validateEmail(e.email)},input:function(s){s.target.composing||(e.email=s.target.value)}}})]),t("div",{staticClass:"form__wrapper"},[t("label",{staticClass:"form__label",attrs:{for:"password"}},[e._v("Password*")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form__field",attrs:{type:"password",id:"password",placeholder:"Make strong password",autocomplete:"new-password",required:""},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}})]),t("div",{staticClass:"form__wrapper"},[t("label",{staticClass:"form__label",attrs:{for:"password-repeat"}},[e._v("Repeat password*")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordRepeat,expression:"passwordRepeat"}],staticClass:"form__field",attrs:{type:"password",id:"password-repeat",placeholder:"Repeat your password",autocomplete:"new-password",required:""},domProps:{value:e.passwordRepeat},on:{input:function(s){s.target.composing||(e.passwordRepeat=s.target.value)}}})]),t("button",{staticClass:"form__button",attrs:{type:"button"},on:{click:function(s){return e.sign("up")}}},[e._v("Sign up")])]):e._e(),e.isExist?t("form",{staticClass:"form__login",on:{keyup:function(s){e.showAlert=!1}}},[t("div",{staticClass:"form__wrapper"},[t("label",{staticClass:"form__label",attrs:{for:"login"}},[e._v("Login*")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.login,expression:"login"}],staticClass:"form__field",attrs:{type:"text",id:"login",placeholder:"Enter your nickname",required:""},domProps:{value:e.login},on:{input:function(s){s.target.composing||(e.login=s.target.value)}}})]),t("div",{staticClass:"form__wrapper"},[t("label",{staticClass:"form__label",attrs:{for:"password"}},[e._v("Password*")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form__field",attrs:{type:"password",id:"password",placeholder:"Enter your password",required:""},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}})]),t("button",{staticClass:"form__button",attrs:{type:"button"},on:{click:function(s){return e.sign("in")}}},[e._v("Sign in")])]):e._e(),t("p",{staticClass:"form__text"},[e._v("*required fields")])]),e.isSuccess?t("div",{staticClass:"form__success"},[e._v("\n    Congratulations! You have passed all checks!\n    "),t("p",[e._v("You profile below:")]),t("div",{staticClass:"form__wrapper-success"},[t("b",[e._v("Your name:")]),e._v(" "+e._s(e.profile.name)+"\n      "),t("b",[e._v("Your login:")]),e._v(" "+e._s(e.profile.login)+"\n      "),t("b",[e._v("Your mail:")]),e._v(" "+e._s(e.profile.email)+"\n      "),t("b",[e._v("Your password:")]),e._v(" "+e._s(e.profile.password)+"\n    ")])]):e._e()])},n=[],l=(t("7f7f"),t("0dff")),u=new l({filename:"./users.db",autoload:!0});u.ensureIndex({fieldName:"email",unique:!0});var c={name:"form",data:function(){return{isNew:!0,isExist:!1,isSuccess:!1,isOk:null,isError:null,login:"",password:"",passwordRepeat:"",email:"",name:"",showAlert:!1,message:"",profile:""}},methods:{validateEmail:function(e){var s=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return s.test(String(e).toLowerCase())?(this.isError=!1,this.isOk=!0):(this.isOk=!1,this.isError=!0),s.test(String(e).toLowerCase())},sentData:function(){return this.isNew?""!==this.login&&""!==this.password&&""!==this.email&&""!==this.name&&""!==this.passwordRepeat&&this.validateEmail(this.email)?this.password!==this.passwordRepeat?(this.message="Your password information does not match, try again",this.showAlert=!0,!1):!!this.validateEmail(this.email)||void 0:(this.message="Please fill all required fields",this.showAlert=!0,!1):""!==this.login&&""!==this.password||(this.message="Please fill all required fieldsss",this.showAlert=!0,!1)},insertData:function(){var e=this;u.insert({name:this.name,password:this.password,email:this.email,login:this.login},function(s,t){s?(e.message="This mail is already in use",e.showAlert=!0):(e.showAlert=!1,e.profile=t,e.isSuccess=!0)})},findData:function(){var e=this;u.findOne({login:this.login,password:this.password},function(s,t){null===t?(e.message="Unfortunately user not found :(",e.showAlert=!0):(e.showAlert=!1,e.profile=t,e.isSuccess=!0)})},deleteDb:function(){u.remove({},{multi:!0},function(e,s){console.log("Deleted",s,"user(s)")})},sign:function(e){if(this.sentData(),this.sentData())switch(e){case"up":this.insertData();break;case"in":this.findData();break}}}},p=c,d=(t("579a"),t("2877")),m=Object(d["a"])(p,i,n,!1,null,"45c95ff6",null),f=m.exports,_={name:"app",components:{Form:f}},v=_,w=(t("034f"),Object(d["a"])(v,r,o,!1,null,null,null)),h=w.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(h)}}).$mount("#app")},"579a":function(e,s,t){"use strict";var a=t("dc4a"),r=t.n(a);r.a},"64a9":function(e,s,t){},dc4a:function(e,s,t){}});
//# sourceMappingURL=app.cd910bf6.js.map